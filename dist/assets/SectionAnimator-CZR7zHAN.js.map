{"version":3,"file":"SectionAnimator-CZR7zHAN.js","sources":["../../node_modules/framer-motion/dist/es/render/dom/viewport/index.mjs","../../node_modules/framer-motion/dist/es/utils/use-in-view.mjs","../../src/components/animations/SectionAnimator.jsx"],"sourcesContent":["import { resolveElements } from 'motion-dom';\n\nconst thresholds = {\n    some: 0,\n    all: 1,\n};\nfunction inView(elementOrSelector, onStart, { root, margin: rootMargin, amount = \"some\" } = {}) {\n    const elements = resolveElements(elementOrSelector);\n    const activeIntersections = new WeakMap();\n    const onIntersectionChange = (entries) => {\n        entries.forEach((entry) => {\n            const onEnd = activeIntersections.get(entry.target);\n            /**\n             * If there's no change to the intersection, we don't need to\n             * do anything here.\n             */\n            if (entry.isIntersecting === Boolean(onEnd))\n                return;\n            if (entry.isIntersecting) {\n                const newOnEnd = onStart(entry);\n                if (typeof newOnEnd === \"function\") {\n                    activeIntersections.set(entry.target, newOnEnd);\n                }\n                else {\n                    observer.unobserve(entry.target);\n                }\n            }\n            else if (typeof onEnd === \"function\") {\n                onEnd(entry);\n                activeIntersections.delete(entry.target);\n            }\n        });\n    };\n    const observer = new IntersectionObserver(onIntersectionChange, {\n        root,\n        rootMargin,\n        threshold: typeof amount === \"number\" ? amount : thresholds[amount],\n    });\n    elements.forEach((element) => observer.observe(element));\n    return () => observer.disconnect();\n}\n\nexport { inView };\n","import { useState, useEffect } from 'react';\nimport { inView } from '../render/dom/viewport/index.mjs';\n\nfunction useInView(ref, { root, margin, amount, once = false } = {}) {\n    const [isInView, setInView] = useState(false);\n    useEffect(() => {\n        if (!ref.current || (once && isInView))\n            return;\n        const onEnter = () => {\n            setInView(true);\n            return once ? undefined : () => setInView(false);\n        };\n        const options = {\n            root: (root && root.current) || undefined,\n            margin,\n            amount,\n        };\n        return inView(ref.current, onEnter, options);\n    }, [root, ref, margin, once, amount]);\n    return isInView;\n}\n\nexport { useInView };\n","import { useRef, useMemo, useState, useEffect, memo } from 'react';\nimport { motion, useInView } from 'framer-motion';\nimport { useLanguage } from '../../context/LanguageContext';\n\n/**\n * A lightweight wrapper component that provides basic animations for sections\n * with significant performance optimizations\n * \n * @param {Object} props\n * @param {string} props.id - The section ID\n * @param {string} props.title - The section title\n * @param {string} props.subtitle - The section subtitle or description\n * @param {string} props.highlightedText - Text in the title to be highlighted with gradient\n * @param {React.ReactNode} props.children - The section content\n */\nconst SectionAnimator = memo(({ \n  id, \n  title, \n  subtitle, \n  highlightedText = '',\n  titleClassName = '',\n  subtitleClassName = '',\n  children,\n  className = '',\n  backgroundClassName = '',\n  showTitle = true\n}) => {\n  const sectionRef = useRef(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { dir } = useLanguage();\n  \n  // More efficient InView detection with lower sensitivity\n  const isInView = useInView(sectionRef, { \n    once: true, \n    margin: \"-5% 0px\",\n    amount: 0.05,\n    fallback: true // Ensure element is considered in view if detection fails\n  });\n  \n  // Simplified loading state management\n  useEffect(() => {\n    if (isInView && !isLoaded) {\n      setIsLoaded(true);\n    }\n    \n    // Fallback timer with longer delay to reduce unnecessary state changes\n    const timer = setTimeout(() => {\n      if (!isLoaded) {\n        setIsLoaded(true);\n      }\n    }, 1500);\n    \n    return () => clearTimeout(timer);\n  }, [isInView, isLoaded]);\n  \n  // Minimal title formatting logic with memoization\n  const formattedTitle = useMemo(() => {\n    if (!highlightedText || !title) return title;\n    \n    const parts = title.split(highlightedText);\n    if (parts.length === 1) return title;\n    \n    return (\n      <>\n        {parts[0]}\n        <span className=\"gradient-text\">{highlightedText}</span>\n        {parts[1]}\n      </>\n    );\n  }, [title, highlightedText]);\n\n  // Only log in development\n  if (process.env.NODE_ENV === 'development') {\n    console.log(`Section ${id} - isInView: ${isInView}, isLoaded: ${isLoaded}`);\n  }\n\n  // Memoize animation controls for better performance\n  const titleAnimation = useMemo(() => ({\n    opacity: isInView || isLoaded ? 1 : 0,\n    y: isInView || isLoaded ? 0 : 15\n  }), [isInView, isLoaded]);\n\n  const contentAnimation = useMemo(() => ({\n    opacity: isLoaded || isInView ? 1 : 0,\n    y: isLoaded || isInView ? 0 : 20\n  }), [isInView, isLoaded]);\n\n  return (\n    <section \n      id={id} \n      ref={sectionRef}\n      className={`py-16 md:py-24 relative overflow-hidden ${className}`}\n    >\n      {/* Background element - only render if needed */}\n      {backgroundClassName && (\n        <div className={`absolute inset-0 -z-10 ${backgroundClassName}`} />\n      )}\n      \n      <div className=\"container mx-auto px-4 relative z-10\">\n        <div className=\"max-w-4xl mx-auto\">\n          {/* Section header with minimal animations - only render if needed */}\n          {showTitle && title && (\n            <div className=\"text-center mb-12 md:mb-16\">\n              <motion.h2 \n                className={`text-3xl md:text-4xl font-bold mb-4 ${titleClassName}`}\n                initial={{ opacity: 0, y: 15 }}\n                animate={titleAnimation}\n                transition={{ duration: 0.5, ease: \"easeOut\" }}\n              >\n                {formattedTitle}\n              </motion.h2>\n              \n              {subtitle && (\n                <motion.p \n                  className={`text-gray-300 text-lg max-w-2xl mx-auto ${subtitleClassName}`}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: titleAnimation.opacity }}\n                  transition={{ duration: 0.4, ease: \"easeOut\" }}\n                >\n                  {subtitle}\n                </motion.p>\n              )}\n              \n              <motion.div \n                className=\"w-24 h-1 bg-primary/30 rounded-full mx-auto mt-6\"\n                initial={{ width: 0 }}\n                animate={{ width: isInView || isLoaded ? '6rem' : 0 }}\n                transition={{ duration: 0.4, ease: \"easeOut\" }}\n              />\n            </div>\n          )}\n          \n          {/* Main content with optimized animation */}\n          <motion.div \n            initial={{ opacity: 0, y: 20 }}\n            animate={contentAnimation}\n            transition={{ \n              duration: 0.4, \n              ease: \"easeOut\",\n              // Use optimized hardware acceleration\n              willChange: \"opacity, transform\"\n            }}\n            style={{ \n              direction: dir,\n              // Force hardware acceleration\n              transform: 'translateZ(0)'\n            }}\n            className={dir === 'rtl' ? 'rtl' : ''}\n          >\n            {children}\n          </motion.div>\n        </div>\n      </div>\n    </section>\n  );\n});\n\nexport default SectionAnimator; "],"names":["thresholds","inView","elementOrSelector","onStart","root","rootMargin","amount","elements","resolveElements","activeIntersections","onIntersectionChange","entries","entry","onEnd","newOnEnd","observer","element","useInView","ref","margin","once","isInView","setInView","useState","useEffect","onEnter","options","SectionAnimator","memo","id","title","subtitle","highlightedText","titleClassName","subtitleClassName","children","className","backgroundClassName","showTitle","sectionRef","useRef","isLoaded","setIsLoaded","dir","useLanguage","timer","formattedTitle","useMemo","parts","jsxs","Fragment","titleAnimation","contentAnimation","jsx","motion"],"mappings":"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","x_google_ignoreList":[0,1]}